{"version":3,"sources":["page/Sign.js","page/Main.js","page/Menupage.js","App.js","reportWebVitals.js","index.js"],"names":["Sign","props","location","history","useState","id","pwd","login","setLogin","check","setCheck","useEffect","Axios","get","then","response","data","className","htmlFor","type","onChange","e","target","value","placeholder","required","autoFocus","onClick","find","console","log","alert","push","pathname","Main","nickname","job","setJob","event","name","length","preventDefault","post","title","content","MenuPage","work","setWork","worktime","setWorktime","totalworktime","settotalWorktime","setValue","status","setStatus","Date","now","seconds","setSeconds","callback","delay","savedCallback","useRef","current","tick","setInterval","clearInterval","UseInterval","getworktime","date","gettime","a","starttime2","sumprice","getwork","time","start","UpdateWork","state","checktime","endtime2","time1","moment","time2","format","duration","diff","asMinutes","data-bs-dismiss","href","interval","parseInt","Number","App","path","component","SignPage","MainPage","Menupage","to","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.106bf150.chunk.js","sourcesContent":["// eslint-disalbe\n\nimport React,{useState} from'react';\nimport 'bootstrap/dist/css/bootstrap.css'\nimport Axios from'axios';\nimport { useEffect } from 'react';\n\n\nfunction Sign({props, location, history }) { \n  //로그인을 위한 것들\n//   const mongoose = require('mongoose')\n//   mongoose.connect('mongodb+srv://slbin:awd15963@cluster0.mywlh.mongodb.net/myFirstDatabase?retryWrites=true&w=majority',{\n//   useNewUrlParser : true,useUnifiedTopology : true, useCreateIndex:true , useFindAndModify : false\n// }).then(() => console.log(\"연결 성공\"))\n//   .catch(err => console.log(\"연결실패\"));\n  const [login,setLogin] = useState({id: \"\",pwd: \"\"});\n  const [check,setCheck] = useState([]); //전체 데이터베이스 불러온것\n\n\n\n\n  useEffect(()=>{\n    Axios.get('http://222.119.7.40:8000/api/get').then((response)=>{\n        setCheck(response.data);\n    })\n  },[])\n\n  const logincheck = () => {\n    const newcheck = [...check];\n    const id = newcheck.find(id => id.id = login.id);\n    console.log(id);\n    if(id==null){\n        alert('로그인실패');\n        console.log(check);\n    }\n    else if(id.id == login.id && id.pwd == login.pwd){\n        alert('로그인 성공');//성공시에만 띄움\n        history.push({\n            pathname: \"/Menupage\",\n            id : {id :  id} \n          })\n    }\n    else{\n      console.log(check[0]);\n      console.log(check[1]);\n      alert(check[0]);\n\n    }\n  }\n\n  return(\n    <div className=\"container\">\n    <form  className=\"form-signin\">\n      <h2 className=\"form-signin-heading\">로그인 창</h2>\n      <label htmlFor=\"inputEmail\" className=\"sr-only\">고 번</label>\n      <input type=\"text\" onChange ={e => setLogin({...login, id : e.target.value})} value ={login.id} id=\"inputEmail\" className=\"form-control\" placeholder=\"ID\" required autoFocus/>\n      <label htmlFor=\"inputPassword\" className=\"sr-only\">비밀번호</label>\n      <input type=\"password\" onChange ={e => setLogin({...login, pwd : e.target.value})} value ={login.pwd} id=\"inputPassword\" className=\"form-control\" placeholder=\"Password\" required/>\n      <br></br>\n      <button onClick={logincheck} className=\"btn btn-lg btn-primary btn-block\" type=\"submit\"> 로그인 </button>\n      &nbsp;\n      <button onClick={() => history.push('/main')} className=\"btn btn-lg btn-primary btn-block\" > 회원가입 </button>\n      &nbsp;\n      </form>\n\n  </div>\n  );\n  \n}\n\nexport default Sign;","// eslint-disalbe\n\nimport React,{useState} from'react';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport Axios from'axios';\nimport { useEffect } from 'react';\n\nfunction Main({history}) {\n  const [login,setLogin] = useState({id: \"\",pwd: \"\",nickname:\"\"});\n  const [job,setJob] = useState({value : \"스태프\"});\n\n  const [check,setCheck] = useState({\n    id : '',\n    pwd : '',\n    job : ''\n  });\n\n  useEffect(()=>{\n    Axios.get('http://222.119.7.40:8000/api/get').then((response)=>{\n        setCheck(response.data);\n    })\n  },[])\n  //데이터 불러오기\n  \n  const loginHandler = e =>{\n    if(login.id =='' || login.pwd =='' || login.nickname==''){\n      alert('공백이 있습니다.');\n    }\n    else if(login.id.length <5)\n    {\n      alert('아이디 4자이상하셈');\n    }\n    else if(login.pwd.length <7){\n      alert('비밀번호 6자이상 하셈');\n    }\n    else if(login.nickname.length <3){\n      alert('닉네임 3글자이상 하셈');\n    } else{\n      e.preventDefault();\n      console.log(check);\n      const newcheck = [...check];\n      const id = newcheck.find(id => id.id == login.id);\n      if(id!=null){\n          alert('중복된 아이디 입니다...');\n      }\n      else{\n      Axios.post('http://222.119.7.40:8000/api/insert', {\n        title: login.id,\n        content: login.pwd,\n        job : job.value,\n        nickname : login.nickname\n      }).then(()=>{\n        alert('회원가입 성공!!');\n        history.push('/sign');\n      })\n    }\n\n    }\n  }\n\n  //회원가입 성공\n  \n\n  const logincheck = () => {\n    const newcheck = [...check];\n    const id = newcheck.find(id => id.id = login.id);\n    if(id.id == login.id){\n        alert('중복된 아이디 입니다.');\n    }\n    else{\n        alert('로그인 실패..');\n    }\n  }\n\n\n  const handleChange = (event) =>{\n    setJob({value: event.target.value});\n    console.log(job);\n  }\n\n  return(\n    <div className=\"container\">\n    <form  className=\"form-signin\">\n      <h2 className=\"form-signin-heading\">회원가입 창</h2>\n\n      <label htmlFor=\"inputEmail\" className=\"sr-only\">고 번</label>\n      <input type=\"text\" onChange ={e => setLogin({...login, id : e.target.value})} value ={login.id} id=\"inputEmail\" className=\"form-control\" placeholder=\"ID\" required autoFocus/>\n      \n      <label htmlFor=\"inputPassword\" className=\"sr-only\">비밀번호</label>\n      <input type=\"password\" onChange ={e => setLogin({...login, pwd : e.target.value})} value ={login.pwd} id=\"inputPassword\" className=\"form-control\" placeholder=\"Password\" required/>\n      \n      <label htmlFor=\"inputPassword\" className=\"sr-only\">닉네임</label>\n      <input type=\"text\" onChange ={e => setLogin({...login, nickname : e.target.value})} value ={login.nickname}  className=\"form-control\" placeholder=\"Nickname\" required/>\n      \n    <div className=\"form-group\">\n        <label htmlFor=\"exampleSelect1\" className=\"form-label mt-4\">직업 선택</label>\n        <select value={job.value} onChange={handleChange} name =\"lifeArr\" className=\"form-select\" id=\"exampleSelect1\">\n          <option value=\"스태프\">스태프</option>\n          <option value=\"경찰\">경찰</option>\n          <option value=\"EMS\">EMS</option>\n          <option value=\"시민\">시민</option>\n      </select>\n    </div>\n\n      &nbsp;<br/>\n      <button onClick={loginHandler} className=\"btn btn-primary\" >   회원가입   </button>\n\n\n      </form>\n\n  </div>\n  );\n  \n}\n\nexport default Main;","// eslint-disalbe\n\nimport React,{useState,useRef} from'react';\nimport 'bootstrap/dist/css/bootstrap.css'\nimport Axios from'axios';\nimport { useEffect } from 'react';\nimport 'moment/locale/ko';\nimport Moment from 'react-moment';\nimport moment from 'moment';\n\nfunction MenuPage({location,history }) { \n    const id = location;\n    //console.log(id.id.id);\n    const [login,setLogin] = useState({id: \"\",pwd: \"\"});\n    const [check,setCheck] = useState([]); //전체 데이터베이스 불러온것\n    const [work,setWork] = useState([]);\n    const [worktime,setWorktime] = useState([]);\n    const [totalworktime,settotalWorktime] = useState();\n    const [value,setValue] = useState(0);\n    //시간불러옴\n\n    const [status,setStatus] = useState(\"퇴근\");\n    const [seconds, setSeconds] = useState(Date.now()); //시간 확인할려고 만들었음\n\n    // useInterval\n    UseInterval(() => {\n      setSeconds(Date.now());\n    }, 1000);\n    const nowTime = Date.now();\n    // interval 30초\n    //return <Moment interval = { 30000 }>{nowTime}</Moment>;\n    // interval disable\n\n    //데이터 가져오기\n  useEffect(()=>{\n    Axios.get('http://localhost:8000/api/get').then((response)=>{\n        setCheck(response.data);\n        //gettime();//시간 불러오기\n        //getworktime();\n    });\n  },[seconds],[totalworktime])\n\n  useEffect(()=>{\n        getworktime();\n        \n        Axios.post('http://localhost:8000/api/gettime', {\n            title: id.id.id.id,\n            date: seconds\n        }).then((response)=>{\n            if(response.data ==id.id.id.id) //퇴근 안했음\n            {\n                setStatus(\"출근\");\n                console.log(\"status값\",status);\n            }\n            else{\n                setStatus(\"퇴근\");\n            }\n        });\n  },[]);\n\n\n\n\n\n  //출근버튼 누르면 실행하는 함수\n  const starttime = () => {\n    gettime();//출근버튼 \n  }\n\n  const gettime = async function(){\n    await Axios.post('http://localhost:8000/api/gettime', {\n        title: id.id.id.id,\n        date: seconds\n    }).then((response)=>{\n        if(response.data ==id.id.id.id) //퇴근 안했음\n        {\n            alert(\"이미 출근하셨습니다.\");\n            setStatus(\"출근\");\n        }\n        else{\n            starttime2(); //출근 안했으니 insert구문으로 db에 데이터 넣어줌\n            setStatus(\"출근\");\n        }\n    });\n  }\n\n  useEffect(()=>{\n    console.log(\"status 값\",status);\n  },[status])\n\n\n  const starttime2 =async function(){\n    try{\n    await Axios.post('http://222.119.7.40:8000/api/insert2', {\n      title: id.id.id.id,\n      date: seconds,\n      nickname : id.id.id.nickname\n    }).then((response)=>{\n      console.log(\"받은값\",response);\n      alert('출근 성공');\n    })\n}catch(e){\n    console.log(\"출근에러 : \",e);\n}\n  }\n\n//출근 완료\n\n\n//   const getwork = async function(){\n//     await Axios.post('http://localhost:8000/api/getwork', {\n//         title: id.id.id.id,\n//         date: seconds,\n//       }).then((response)=>{\n//         console.log(response.data);\n//         setWork(response.data);\n//       })\n//   }\n  \n\n\n\n\n\n\n\n//총합시간계산\n  const getworktime = async function(){\n    await Axios.post('http://222.119.7.40:8000/api/getworktime', {\n        title: id.id.id.id,\n      }).then((response)=>{\n          settotalWorktime(response.data[0].sumprice);\n          console.log(response.data[0].sumprice);\n      })\n}\n\n\n//퇴근\n  const endtime = () => {\n    try{\n        getwork();\n    }catch(e){\n        console.log(e);\n    }\n\n\n};\n\n//work에 시작시간 테이블 가져오기\nconst getwork = async function(){\n    const response = await Axios.post('http://localhost:8000/api/getwork', {\n        title: id.id.id.id\n      });\n      if(response.data ==id.id.id.id) //퇴근 안했음\n      {\n          alert(\"출근하지 않으셨습니다.\");\n      }\n      else{\n        var time = response.data[0].start;\n        setValue(1);\n        UpdateWork(time);\n        //checktime();\n      }\n\n  }\n  const UpdateWork= (time)=>{\n    setWork((state,props)=>{\n        return {work : time}\n    });\n  }\n  //work값이 변경됬을때 실행\n  useEffect(()=>{\n    console.log(\"바뀐뒤 work값 : \",work);\n    checktime();//work값이 변경되었을때 실행함\n  },[work])\n\n  //worktime 값이 변했을때\n  useEffect(()=>{\n      if(value==1){\n    endtime2();\n      }\n  },[worktime])\n\n  //시간계산\n  const checktime = () =>{\n    try{\n  var time1 = moment(work.work,'MMMM Do YYYY, h:mm:ss a');\n  var time2 = moment(seconds); \n  console.log(time1.format('MMMM Do YYYY, h:mm:ss a'));\n  console.log(time2.format('MMMM Do YYYY, h:mm:ss a'));\n  var duration = moment.duration(time2.diff(time1)).asMinutes();\n  console.log(duration);\n  setWorktime(duration);\n  //var time3 = moment.duration(time1.diff(time2)).asMinutes();\n  console.log(time2);\n    //seconds -> 현재시간\n    }catch(e){\n        console.log(e);\n    }\n\n}\n\n    const endtime2 = async function(){\n        await Axios.post('http://localhost:8000/api/update', {\n            title: id.id.id.id,\n            date: moment(seconds).format('MMMM Do YYYY, h:mm:ss a'),\n            worktime : worktime\n          }).then(()=>{\n            console.log(\"일한시간\",worktime);\n            setValue(0);\n            getworktime();\n            alert('퇴근했습니다.');\n            setStatus(\"퇴근\");\n          })\n    }\n\n\n\n\n\n\n\n  return(\n <div className=\"d-grid gap-2\">\n     <h1>{id.id.id.id} 님 환영합니다.</h1>\n     <h2>아이디 : {id.id.id.id}</h2>\n     <h2>직업 : {id.id.id.job}</h2>\n     <div className=\"alert alert-dismissible alert-warning\">\n  <button type=\"button\" className=\"btn-close\" data-bs-dismiss=\"alert\"></button>\n  <h4 className=\"alert-heading\">알림</h4>\n  <p className=\"mb-0\">{id.id.id.nickname} 님은 현재 <a href=\"#\" className=\"alert-link\">{status}</a> 상태입니다.</p>\n</div>\n\n  <button className=\"btn btn-lg btn-primary\" type=\"button\" value=\"스태프\">스태프</button>\n  <button className=\"btn btn-lg btn-primary\" type=\"button\" value=\"경찰\">경찰</button>\n  <button className=\"btn btn-lg btn-primary\" type=\"button\" value=\"EMS\">EMS</button>\n    <Moment format=\"YYYY년 MM월 DD일 HH시 mm분 ss초\" interval = { 0 }>\n        {seconds}\n    </Moment>\n    <button onClick={starttime} className=\"btn btn-lg btn-primary\" type=\"button\">출근</button>\n    <button onClick={endtime} className=\"btn btn-lg btn-primary\" type=\"button\">퇴근</button>\n    <button onClick={getwork} className=\"btn btn-lg btn-primary\" type=\"button\">값 불러오기</button>\n    <button onClick={checktime} className=\"btn btn-lg btn-primary\" type=\"button\">시간계산</button>\n    <button onClick={getworktime} className=\"btn btn-lg btn-primary\" type=\"button\">총합시간계산</button>\n    <h1>총 일한시간 : {parseInt(Number(totalworktime)/60) } 시간 {parseInt(Number(totalworktime))%60 } 분</h1>\n    \n    </div>\n  );\n  \n}\n\n\nfunction UseInterval(callback, delay) {\n    const savedCallback = useRef();\n\n    useEffect(() => {\n      // useEffect에 매개변수로 받은 콜백을 현재 Ref로 선언해준다.\n      savedCallback.current = callback;\n    });\n\n    useEffect(() => {\n      function tick() {\n        savedCallback.current();\n      }\n        // useEffect에 Ref의 current를 setInterval를 delay 시간동안 해준다.\n      let id = setInterval(tick, delay);\n      // 언마운트되기전 clearInterval을 해준다.\n      return () => clearInterval(id);\n    }, [delay]);\n  }\n\nexport default MenuPage;","import React from 'react';\nimport { HashRouter as Router, Route, Switch } from 'react-router-dom';\nimport SignPage from './page/Sign'; \nimport MainPage from './page/Main';\nimport Menupage from './page/Menupage';\nimport {Link } from 'react-router-dom';\n\n\nfunction App({props, location, history }) { \n\n  return ( \n    <> \n      <Router> \n        <Switch> \n        <> \n          <Route path='/sign' component={SignPage} /> \n          <Route path='/main' component={MainPage} /> \n          <Route path='/menupage' component={Menupage} /> \n          <Link to='/sign'>sign</Link>\n          </> \n        </Switch> \n      </Router> \n    </> \n          ); }\nexport default App;\n\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}