{"version":3,"sources":["page/img/VIP.png","page/Sign.js","page/Main.js","page/Menupage.js","page/img/Staff.jpg","page/img/EMS.png","page/img/Police.png","page/img/logout.png","page/Staff.js","page/Police.js","page/Admin.js","App.js","reportWebVitals.js","index.js"],"names":["Sign","props","location","history","useState","id","pwd","login","setLogin","window","localStorage","getItem","token","useEffect","a","localtoken","tokenlogin","Axios","post","then","response","console","log","data","setItem","accessToken","push","pathname","alert","catch","error","Form","FormButton","title","class","onClick","className","type","OtherMethods","Facebook","href","src","imgA","onChange","e","target","value","placeholder","required","autoFocus","Main","nickname","job","setJob","setCheck","get","htmlFor","event","name","preventDefault","content","Menu","styled","div","ButtonStyle","MenuPage","setNickname","settotalWorktime","status","setStatus","Date","now","seconds","setSeconds","callback","delay","savedCallback","useRef","current","tick","setInterval","clearInterval","UseInterval","getworktime","date","sumprice","staff","police","Admin","logout","clear","MenuButton","page","text","format","interval","color","work","setWork","worktime","setWorktime","totalworktime","setValue","setStaff","getstaff","code","gettime","starttime2","getwork","time","start","UpdateWork","state","checktime","endtime2","time1","moment","time2","duration","diff","asMinutes","Pushstaff","workstaff","workstate","scope","Testpuch","rows","forEach","staffrow","data-bs-dismiss","parseInt","Number","register","setRegister","userdata","setUser","showpost","setshowpost","getuser","getregister","staffend","Pushuser","user","check","totaltime","App","exact","path","component","SignPage","MainPage","Menupage","Staff","Police","React","memo","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.de1dc224.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/VIP.4acf2e91.png\";","// eslint-disalbe\n\nimport React,{useState} from'react';\nimport 'bootstrap/dist/css/bootstrap.css'\nimport './App.css';\nimport Axios from'axios';\nimport { useEffect } from 'react';\nimport imgA from './img/VIP.png';\n\n\nfunction Sign({props, location, history }) { \n  //로그인을 위한 것들\n  const [login,setLogin] = useState({id: \"\",pwd: \"\"});\n  const [token,setToken] = useState(window.localStorage.getItem(\"token\")); //토큰값 불러오기\n\n\n  useEffect(async()=>{\n    localtoken();\n\n},[]);\n\n  const tokenlogin = () =>{\n    Axios.post(\"https://qkrtmfqls.gabia.io/api/tokenlogin\", {\n    \t token : token,\n       id : login.id,\n       pwd : login.pwd\n    })\n    .then((response)=>{\n      console.log(response.data);\n      if(response.data.id == login.id)//로그인 성공시\n      {\n      localStorage.setItem('token', response.data.accessToken);\n      localStorage.setItem('id', login.id);\n      console.log(window.localStorage.getItem(\"token\"));\n      history.push({\n        pathname: \"/Menupage\",\n      })\n      }\n      else{\n        alert(response.data);//실패사유 출력\n      }\n    \t//console.log(response.data);\n    })\n    .catch((error)=> {\n    \tconsole.log(error);\n    });\n  }\n\n\n  //토큰 유효성 검사\n  const localtoken = () =>{\n    Axios.post(\"https://qkrtmfqls.gabia.io/api/tokencheck\", {\n    \t token : token\n    })\n    .then((response)=>{\n      history.push({\n        pathname: \"/Menupage\", //토큰이 유효하다면 메인 페이지로 넘어감\n      })\n    })\n    .catch((error)=> {\n      // if(error.response.data.code == 419) //error 떳을때 데이터 가져오기\n      // {\n      //   alert('로그인 세션이 만료되었습니다.');\n      // }\n    });\n  }\n\n\n  const FormHeader = props => (\n    <h2 id=\"headerTitle\">{props.title}</h2>\n);\n\n\nconst Form = props => (\n   <div>\n     <FormButton title=\"Log in\"/>\n   </div>\n);\n\nconst FormButton = props => (\n  <div id=\"button\" class=\"row\">\n    <button onClick={tokenlogin} className=\"btn btn-lg btn-primary btn-block\" type=\"submit\"> 로그인 </button>\n    <br/>\n    <button onClick={() => history.push('/main')} className=\"btn btn-lg btn-primary btn-block\" > 회원가입 </button>\n  </div>\n);\n\nconst FormInput = props => (\n  <div class=\"row\">\n\n    <label>{props.description}</label>\n    <input type=\"number\" onChange ={e => setLogin({...login, id : e.target.value})} value ={login.id} id=\"inputEmail\" placeholder=\"ID\" required autoFocus/>\n  </div>  \n);\nconst FormInputpw = props => (\n  <div class=\"row\">\n\n    <label>{props.description}</label>\n    <input type=\"password\" onChange ={e => setLogin({...login, pwd : e.target.value})} value ={login.pwd} id=\"inputPassword\"  placeholder=\"Password\" required/>\n  </div>  \n);\n\nconst OtherMethods = props => (\n  <div id=\"alternativeLogin\">\n    <div id=\"iconGroup\">  \n      <Facebook/>\n    </div>\n  </div>\n);\n\nconst Facebook = props => (\n  <a href=\"#\" id=\"facebookIcon\"></a>\n);\n\n\n      return(\n        <div id=\"loginform\">\n          \n                <div id=\"iconGroup\">  \n                <img className=\"VIP\" src={imgA}></img>\n    </div>\n    <div class=\"row\">\n  <input type=\"number\" onChange ={e => setLogin({...login, id : e.target.value})} value ={login.id} id=\"inputEmail\" placeholder=\"ID\" required autoFocus/>\n   <input type=\"password\" onChange ={e => setLogin({...login, pwd : e.target.value})} value ={login.pwd} id=\"inputPassword\"  placeholder=\"Password\" required/>\n    </div>  \n          <Form />\n          <OtherMethods />\n\n        </div>\n\n      );\n  \n\n  \n  // return(\n  //   <div className=\"container\">\n  //   <form  className=\"form-signin\">\n  //     <h2 className=\"form-signin-heading\">로그인 창</h2>\n  //     <label htmlFor=\"inputEmail\" className=\"sr-only\">고 번</label>\n  //     <input type=\"text\" onChange ={e => setLogin({...login, id : e.target.value})} value ={login.id} id=\"inputEmail\" className=\"form-control\" placeholder=\"ID\" required autoFocus/>\n  //     <label htmlFor=\"inputPassword\" className=\"sr-only\">비밀번호</label>\n  //     <input type=\"password\" onChange ={e => setLogin({...login, pwd : e.target.value})} value ={login.pwd} id=\"inputPassword\" className=\"form-control\" placeholder=\"Password\" required/>\n  //     <br></br>\n  //     &nbsp;\n  //     <button onClick={tokenlogin} className=\"btn btn-lg btn-primary btn-block\" type=\"submit\"> 토큰 로그인 </button>\n  //     &nbsp;\n  //     <button onClick={() => history.push('/main')} className=\"btn btn-lg btn-primary btn-block\" > 회원가입 </button>\n  //     &nbsp;\n  //     <button onClick={localtoken} className=\"btn btn-lg btn-primary btn-block\" type=\"submit\"> 로컬 토큰 확인</button>\n  //     </form>\n\n  // </div>\n  // );\n}\n\n\nexport default Sign;","// eslint-disalbe\n\nimport React,{useState} from'react';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport Axios from'axios';\nimport { useEffect } from 'react';\nimport imgA from './img/VIP.png';\n\nfunction Main({history}) {\n  const [login,setLogin] = useState({id: \"\",pwd: \"\",nickname:\"\"});\n  const [job,setJob] = useState({value : \"스태프\"});\n\n  const [check,setCheck] = useState({\n    id : '',\n    pwd : '',\n    job : ''\n  });\n\n  useEffect(()=>{\n    Axios.get('https://qkrtmfqls.gabia.io/api/get').then((response)=>{\n        setCheck(response.data);\n    })\n  },[])\n  //데이터 불러오기\n  \n  const loginHandler = e =>{\n    if(login.id =='' || login.pwd =='' || login.nickname==''){\n      alert('공백이 있습니다.');\n    } else{\n      e.preventDefault();\n      Axios.post('https://qkrtmfqls.gabia.io/api/getid',{\n        id : login.id\n      }).then((response)=>{\n        if(response.data == \"중복\"){\n            alert('중복된 아이디 입니다.');\n        } else {\n         Axios.post('https://qkrtmfqls.gabia.io/api/insert', {\n        title: login.id,\n        content: login.pwd,\n        job : job.value,\n        nickname : login.nickname\n      }).then(()=>{\n        alert('회원가입 성공!!');\n        history.push('/sign');\n      })\n    }\n    })\n  }\n}\n    //   console.log(check);\n    //   const newcheck = [...check];\n    //   const id = newcheck.find(id => id.id == login.id);\n    //   if(id!=null){\n    //       alert('중복된 아이디 입니다...');\n    //   }\n    //   else{\n    //   Axios.post('https://qkrtmfqls.gabia.io/api/insert', {\n    //     title: login.id,\n    //     content: login.pwd,\n    //     job : job.value,\n    //     nickname : login.nickname\n    //   }).then(()=>{\n    //     alert('회원가입 성공!!');\n    //     history.push('/sign');\n    //   })\n    // }\n\n  \n\n  //회원가입 성공\n  \n\n  const logincheck = () => {\n    const newcheck = [...check];\n    const id = newcheck.find(id => id.id = login.id);\n    if(id.id == login.id){\n        alert('중복된 아이디 입니다.');\n    }\n    else{\n        alert('로그인 실패..');\n    }\n  }\n\n\n  const handleChange = (event) =>{\n    setJob({value: event.target.value});\n  }\n\n\n  const Form = props => (\n    <div>\n      <FormButton title=\"Log in\"/>\n    </div>\n );\n \n const FormButton = props => (\n   <div id=\"button\" class=\"row\">\n   </div>\n );\n \n const FormInput = props => (\n   <div class=\"row\">\n \n     <label>{props.description}</label>\n     <input type=\"number\" onChange ={e => setLogin({...login, id : e.target.value})} value ={login.id} id=\"inputEmail\" placeholder=\"ID\" required autoFocus/>\n   </div>  \n );\n const FormInputpw = props => (\n   <div class=\"row\">\n \n     <label>{props.description}</label>\n     <input type=\"password\" onChange ={e => setLogin({...login, pwd : e.target.value})} value ={login.pwd} id=\"inputPassword\"  placeholder=\"Password\" required/>\n   </div>  \n );\n\n    return(\n        <div id=\"loginform\">\n                <div id=\"iconGroup\">  \n                <img className=\"VIP\" src={imgA}></img>\n               </div>\n\n            <div class=\"row\">\n         <label htmlFor=\"inputEmail\" className=\"sr-only\">고 번</label>\n       <input type=\"number\" onChange ={e => setLogin({...login, id : e.target.value})} value ={login.id} id=\"inputEmail\" className=\"form-control\" placeholder=\"ID\" required autoFocus/>\n      <br></br>\n       <label htmlFor=\"inputPassword\" className=\"sr-only\">비밀번호</label>\n       <input type=\"password\" onChange ={e => setLogin({...login, pwd : e.target.value})} value ={login.pwd} id=\"inputPassword\" className=\"form-control\" placeholder=\"Password\" required/>\n      <br></br>\n       <label htmlFor=\"inputPassword\" className=\"sr-only\">닉네임</label>\n       <input type=\"text\" onChange ={e => setLogin({...login, nickname : e.target.value})} value ={login.nickname}  className=\"form-control\" placeholder=\"Nickname\" required/>\n          <div className=\"form-group\">\n         <label htmlFor=\"exampleSelect1\" className=\"form-label mt-4\">직업 선택</label>\n         <select id =\"select\"value={job.value} onChange={handleChange} name =\"lifeArr\" className=\"form-select\" id=\"exampleSelect1\">\n           <option value=\"스태프\">스태프</option>\n           <option value=\"경찰\">경찰</option>\n           <option value=\"EMS\">EMS</option>\n           <option value=\"시민\">시민</option>\n       </select>\n     </div>\n\n       &nbsp;<br/>\n       <button onClick={loginHandler} className=\"btn btn-primary\" >   회원가입   </button>\n       <br></br>\n       <br></br>\n       <br></br>\n       <br></br>\n       <br></br>\n\n\n   </div>  \n        </div>\n    )\n  // return(\n  //   <div className=\"container\">\n  //   <form  className=\"form-signin\">\n  //     <h2 className=\"form-signin-heading\">회원가입 창</h2>\n\n  //     <label htmlFor=\"inputEmail\" className=\"sr-only\">고 번</label>\n  //     <input type=\"number\" onChange ={e => setLogin({...login, id : e.target.value})} value ={login.id} id=\"inputEmail\" className=\"form-control\" placeholder=\"ID\" required autoFocus/>\n      \n  //     <label htmlFor=\"inputPassword\" className=\"sr-only\">비밀번호</label>\n  //     <input type=\"password\" onChange ={e => setLogin({...login, pwd : e.target.value})} value ={login.pwd} id=\"inputPassword\" className=\"form-control\" placeholder=\"Password\" required/>\n      \n  //     <label htmlFor=\"inputPassword\" className=\"sr-only\">닉네임</label>\n  //     <input type=\"text\" onChange ={e => setLogin({...login, nickname : e.target.value})} value ={login.nickname}  className=\"form-control\" placeholder=\"Nickname\" required/>\n      \n  //   <div className=\"form-group\">\n  //       <label htmlFor=\"exampleSelect1\" className=\"form-label mt-4\">직업 선택</label>\n  //       <select value={job.value} onChange={handleChange} name =\"lifeArr\" className=\"form-select\" id=\"exampleSelect1\">\n  //         <option value=\"스태프\">스태프</option>\n  //         <option value=\"경찰\">경찰</option>\n  //         <option value=\"EMS\">EMS</option>\n  //         <option value=\"시민\">시민</option>\n  //     </select>\n  //   </div>\n\n  //     &nbsp;<br/>\n  //     <button onClick={loginHandler} className=\"btn btn-primary\" >   회원가입   </button>\n\n\n  //     </form>\n\n  // </div>\n  // );\n  \n}\n\nexport default Main;","// eslint-disalbe\n\nimport React,{useState,useRef} from'react';\nimport 'bootstrap/dist/css/bootstrap.css'\nimport Axios from'axios';\nimport { useEffect } from 'react';\nimport 'moment/locale/ko';\nimport Moment from 'react-moment';\nimport styled from \"styled-components\";\nimport imgA from './img/VIP.png';\nimport Police from './img/Police.png';\nimport EMS from './img/EMS.png';\nimport Staff from './img/Staff.jpg';\nimport Logout from './img/logout.png';\n\n\nconst Menu = styled.div`\njustify-content: center;\ntext-align: center;\nposition: fixed;\ndisplay: flex;\njustify-content: space-between;\nbottom: 0;\nwidth: 560px;\nbackground-color: #efefef;\nheight: 120px;\nleft: 50%;\npadding: 15px 30px;\npadding-bottom: 10px;\ntransform: translateX(-50%);\nborder-top-left-radius: 25px;\nborder-top-right-radius: 25px;\n`;\n\nconst ButtonStyle = styled.div`\njustify-content: center;\ntext-align: center;\npadding: 20px;\nbackground-color: #fff;\nborder-radius: 10px;\ntransition: all 0.3s;\nposition: relative;\nborder: 2px solid #000;\ncolor: #000;\n&:hover {\n  transform: scale(1.1);\n}\nspan {\n  position: absolute;\n  bottom: 5%;\n  left: 35%;\n}\n`;\n\n\nfunction MenuPage({location,history }) { \n  \n    const [id,setId] = useState(window.localStorage.getItem(\"id\"))\n    const [nickname,setNickname] = useState()\n    const [job,setJob] = useState()\n    const [totalworktime,settotalWorktime] = useState();\n    //시간불러옴\n\n    const [status,setStatus] = useState(\"퇴근\");\n    const [seconds, setSeconds] = useState(Date.now()); //시간 확인할려고 만들었음\n\n    // useInterval\n    UseInterval(() => {\n      setSeconds(Date.now());\n    }, 1000);\n    const nowTime = Date.now();\n\n  useEffect(async()=>{\n      await Axios.post(\"https://qkrtmfqls.gabia.io/api/tokencheck\", { //토큰 해석해서 출근,퇴근,아이디,닉네임,직업 불러옴\n        token : window.localStorage.getItem(\"token\")\n     })\n     .then((response)=>{\n       setJob(response.data.job);\n       setNickname(response.data.nickname);\n     })\n     .catch((error)=> {\n      history.push({\n        pathname: \"/sign\",\n      })\n       console.log(error);\n     });\n        getworktime();\n      await Axios.post('https://qkrtmfqls.gabia.io/api/gettime', { //출근,퇴근 표시\n              title: id,\n              date: seconds\n          }).then((response)=>{\n              if(response.data ==id) //퇴근 안했음\n              {\n                //console.log(\"돌아온값 : \",response.data);\n                  setStatus(\"출근\");\n              }\n              else{\n                  setStatus(\"퇴근\");\n              }\n          });\n    },[]);\n\n  const getworktime = async function(){ //db에서 일한시간 합쳐서 \n    await Axios.post('https://qkrtmfqls.gabia.io/api/getworktime', {\n        title: id,\n      }).then((response)=>{\n          settotalWorktime(response.data[0].sumprice);\n          //console.log(response.data[0].sumprice);\n      })\n}\n\n\n\n    const staff = async function(){ //스태프페이지 이동\n      if(job == '스태프' || job == '관리자'){\n        alert('스태프 페이지 이동');//성공시에만 띄움\n      history.push({\n          pathname: \"/staff\",\n        })\n      }\n      else {\n        alert('스태프만 가능합니다.');\n      }\n  }\n\n  const police = async function(){ //경찰페이지 이동\n    if(job == '경찰' || job == '관리자'){\n      alert('경찰 페이지 이동');//성공시에만 띄움\n    history.push({\n        pathname: \"/police\",\n      })\n    }\n    else {\n      alert('경찰만 가능합니다.');\n    }\n}\n\nconst Admin = async function(){ //경찰페이지 이동\n  if(job == '관리자'){\n    alert('관리자 페이지 이동');//성공시에만 띄움\n  history.push({\n      pathname: \"/Admin\",\n    })\n  }\n  else {\n    alert('관리자만 가능합니다.');\n  }\n}\n\n//로그아웃\nconst logout = async function(){\n  alert('로그아웃 하셨습니다.');\n  window.localStorage.clear();\n  history.push({\n    pathname: \"/\",\n  });\n}\n\n\nconst MenuButton = ({page,text})=>{\n    return (\n      <ButtonStyle onClick={page} >\n        <img className=\"MENUVIP\" src={text}></img>\n      </ButtonStyle>\n    );\n}\n\n\n\n//classname css수정시 . 사용해야함\n  return(\n <div className=\"d-grid gap-2\">\n    <div id=\"gettt\" className=\"alert alert-dismissible alert-warning\">\n      <h1 className=\"alert-heading\">알림</h1>\n        <p className=\"mb-0\">{nickname} 님은 현재 <a href=\"#\" className=\"alert-link\">{status}\n          </a> 상태입니다.\n        </p>\n    </div>\n      <h2 className='h2line'>고유번호 : {id}</h2>\n      <h2>직업 : {job}</h2>\n      <Moment className='clock' format=\"YYYY년 MM월 DD일 HH시 mm분 ss초\" interval = { 0 }>\n        {seconds}\n       </Moment>\n    <Menu>\n      <MenuButton page = {staff} text = {Staff} color = 'black' name ='user'/>\n      <MenuButton text = {EMS} color = '#87BF00' name ='doctor'/>\n      <MenuButton page = {police}  text = {Police} color = '#DE6800' name ='coffee'/>\n      <MenuButton page = {Admin}text = {imgA} color = '#5CD3F3' name ='discord'/>\n      <MenuButton page = {logout} text = {Logout} color = '#5CD3F3' name ='discord'/>\n    </Menu>\n    </div>\n  );\n}\n\n\nfunction UseInterval(callback, delay) {\n    const savedCallback = useRef();\n    useEffect(() => {\n      // useEffect에 매개변수로 받은 콜백을 현재 Ref로 선언해준다.\n      savedCallback.current = callback;\n    });\n\n    useEffect(() => {\n      function tick() {\n        savedCallback.current();\n      }\n        // useEffect에 Ref의 current를 setInterval를 delay 시간동안 해준다.\n      let id = setInterval(tick, delay);\n      // 언마운트되기전 clearInterval을 해준다.\n      return () => clearInterval(id);\n    }, [delay]);\n  }\n\nexport default MenuPage;","export default \"data:image/jpeg;base64,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\"","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAnXsAAJ17AF9but8AAAAB3RJTUUH5QcLECsrKZbc2QAACyBJREFUaN7dmm2MXNdZx3/POXfeZ3Y9M7vrXTtrnDqu7fU6JbUDRJsmkdKk5EM/8VKpUltSKVVAAhUECkFILR8QRIgKiQpCaBD9BIUEqKKmNA2t1DZEaus0IY1J7cakJLHXO7Mzuzs7c+fOvfccPtw7s7Ozs7NjxwaJRzraO+eec57n/7yec+7C/xOScQe+cesHx180maD4uc+SvOMMhCEASuDVSsiffdfFN+ML+I+/WBprnHOVIBRwHJjbSwnWDuscSyYLXAZeB8wvPVUbC8xYQProY8AfAaW9xBIR2TFGkL3mxQqqAY8CXxxXsKsBkgceIrLGNdHYfhzxeAh4Gti83kACYA1rY7/ZTSwLxgJ2m/pFum8Fa+2eqATWYp5j0Z5Avn/uDepA5qln2qmvfuMxM1k4DnJkeBDEQiQTdLSGjg8mimwlYE1IKRkSmBHeFaF/oxWqx06XvPad0y6PnHuDMwtH9gI+GkQfzaPUo9JyPyKeVxrp6QJSyCOJxLbuwFia/t7aTSpbSyr7JRvF41vd/lFgxnWtOeCvMeZDNp3CZtJDtSF9arHWYuPU2yUlMBFj69fDoHEtlCz8KvAe4EGiLDaSdrVInzUc4HPAr/cLBBAa6BjBi5tvBN9AaIWu99gBRkpAi8VRkFSWVNwSKuoDGPC8Pwd+izhedrPKOBa5C/h4V+NeKFxpa95uOVxpa9Z9jRsIHSOEcZxbZFfPE0CwMaAITMaxTCZC9qdDbsoG7E+HpLTtWurjwL8A3xgl5F5AEkRpcNICFzYSnK2lueRqOkboJR/Zw7zD4NjIWq1QWOvAJTSvb0TADmRCTpfa3FLwEZiMZfg24I9YcSf1udVp4F8tTL1US/GtlQztUHqudaPIWEhry10zLu8veQhUgZ8HzsJw91J7rPmAwFSlrXmxmsYzNx4ERHHkGeHFappKWyMwBTwwcs6Id3ngPhG45DpsBupqKvO7JgE2A8Ul1+lmw/timcYD0udWtwAnrYXVjh5V/24YDfA+Gcs0WN+GA+mj00A5sFD39vLAG0d1TxFEQMqxTEPJ+dTvfCZGH9nP930SUUW+XYjS7bqvthW7/y0SgXVf4YVCzrFYuB140vd9Hvrtz8ZjIpRqa5JFxPLsc89z+NB8BliEyE+bwf+dRZqBYnOL/+LhQ4cyzz73fE/eLjnAPPALwE0Al5dX7OefeLLzwH0fPJpwFGu+wjMyNNB3DRvLyIK4W9aQIb89I6z5itlMSBCYo59/4gu/f3l5JalUz0feBp52gC8A929ZJt4nWQMoVj2Nb6KUqOL3WuLKDCix6L6+rXE2ruJboC2RCxuiWmHs1nYmtELY64/6DOAbWPU04GOtmbHW/t4QN3/AAe7dpkxrmSgUcBwHY6GYCLlrpk3WMaSVJaUtye7eSMCRre2GiI1AwK4xZWNrmRhUd1sTWCGw4Jtou+OFQtsIrUBRTIQYC47jUMjnMdaitzO41wG+A9wNoJRi4fgxTp44hgUqq3USzSYLE3n2FQokHN1zGTvCt8Y5yw4dKX07acAPQtYaDerrm6wEOabLRW5dXMBay48v/ld0QIvoO/r00j3fBirGmAsLx4/Jz91+5kAhn6PT8fnJO5fZbLmsb7bYaLawCIlEAqVuYF0RwQ9CVtcavLW8QqW2jtv2aHsexckCE4UCB+dmaXvtsyuV6jMi8mXgD/XppXvqhXz+W4/85m98bapcul8pOWEtiAgd36ftdTDG0PF9NjY3aTRdAJLJBFrr6yi/EIQhtbUN3l5eoVpfw+t0sNailaI4OcG+iQIAWmsOHzr00r133/XJc6//6Jttz6vr00v38ImPfoRWq3UQ+F2g2F24kMuRy6YxxuIH4e6A1LWnZ4HdAWjNZCHPTbMzTJeKqO18sp7nPX3yxPH62ZdfiVwyLvlngOeJts3bNBWGhkazSaW2RqPZIuxeuikhm8mwf6pEMdbW1VJ9o8GVao2W28bE53utNYVclunSPgq5HFqr/njoUgP4EPDimYUj0XkkdpGCtTY5jJnjaIqTE0wU8jQ2u4CahKFhs+USXKmQz2ZI9p3R7eDDkDNLx/d550qFttdBYj6FXC4CkM9ts7TsTIMJEcl2l3cAXv2PVwC0Uko5joPjOGit0dpBaYVWGqVUr5UncqS0UF1bp9X2SGlF23UJfH9L2BH5t8s8CAJsENDx2mTTKaYm8uRzWWzgs1arYYzBGENoQkxoCMOQMAwIgqgZY3pMHIA//ZPHEBBrI3dRSiGxNvoBDDYRhbEWR2sSCQcRiTUnPQ32F8QIR1Qao6Jr8f2AIAxRImANYSy8MQbbAxI9W+j1GWtFQLZZxO90EJGejxpjyOVyLCyeYnp6GobcdDY2Nnjth6+yuro6zOxXRdZayuUyJxdPUZiYGHgb8a5WKrz2w1dpNpu9oFdqK3acYYvm8nk+8Suf5I6lJRwnMZS5MYbzP3qdJx7/C5YvX75mMNZa5g4c4FMP/xrvPXZ8MDP1KAh8XnzhBb74t39Dq9ncwW/HLGMMi4unuGPpTrR2emYebAAnFk5y5wfuHpZRrgrInR+4mxMLJ3v8hzWtHe5YWmJx8VSP/0ggAMViCcdxxhKwXC7vqsVxSClFuVweC7DjJCgWh39i2CGBiPDmmxdpNBpxQMvQppQiCAIunD8/VEPjkjGGC+fPEwTBnvwajQZvvnlxqBtrgJm5g4jIEWvtR0XEqdfrNJtN9s/ORluVTmeg+TQ2Nvjmv32d5597jiAI3lXALy8vo7WiXJ6Kdg8dbwfParXCl//5n3jp7Pe700Kl1N8BFyvLl6LsePK22xGR+8IwfAZIdUcWSyUKhQKCYAdOS67rUq1WCMPwumQtrTVTU9NkMpk+96DHu9FoUK/V+qd5WusPW2u//toPvjf6prG2uspqtQpANpenND2D1tGUdCHJ/MS+63ZFZKFXWwDCMKC2skKrGX3n2apRw8npamRYJRaJjripTJbj73s/E5PF6yT2eLRxoM5/vnwWr91i2Pm4C74HJJPNobS2rc2GHQxcC2TzefKFyXeVZq+F8oVJsvk8bbe1Q89KKZvN5a3pbmAB5m++hfmbj5BKZ4YK23ZdPNdFRmSV696UwnNd2q670xLWkkpnmL/5CPM337JlkenZAyit2dzY4K2LF7ZNEhHc5iYXzr3C9OxBtNZjfmW+dhIgDEMqy+/gNjd3xIYAU/vnmJ49SNciDtDT9Nz8YTbW6qzVqjsm11errNVWbzCEnZoflMNay77SFHPzh3uWg76CaIwhnclwdOFWpvbP9TZkXVd7tyn2WqjLsyuHUoqp/XMcXThFOpPZVoi3pV9rLdl8nmOnbmO9VqVWWaGxXqfddgmj/f/os8b1MwWWyFMc7ZDOZChMFilNzzBZmhq6fRqsI9ItTuWZWUrT+wn8Dm3XxW01abst1murL9dXKz8WkX1ABkgCysaXxxLdY1prrek+960tIqK6z33jDdABXGvtWnFq5uhksfy+dDZLJpsjlcmQSCQRkX4vkd2ArAIt4srey8+JJIVkisLkvmjUe47+1eOPfebxn/6ZpZS1xgG0tVZ1z/GOE5UmY4zVWtt+9wjDUJRSAkgQRP8LoLVGRAwQiqjw5e++0H74kT94GPjLfk/p/xtTK5Z5B5BzwN8DDw+i7VvgBeArD376UQAvblvmHMwufb+HvduZ6i0PfvpRksnUszGvpd2cL5b13DAgHtE/spwFbovf9XP6CfAPwFvJZIpXvvfv3Aj62XvuB/hvoq+5vwz8VD9+os/UPwCe6lfkYIysA0/eEAmvni4Cfzzu4P8B9PpdpcSnsNMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjEtMDctMTFUMTY6NDI6NDYrMDA6MDAWGHV/AAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIxLTA3LTExVDE2OjQyOjQ2KzAwOjAwZ0XNwwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,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\"","// eslint-disalbe\n\nimport React,{useState,useRef} from'react';\nimport 'bootstrap/dist/css/bootstrap.css'\nimport Axios from'axios';\nimport { useEffect } from 'react';\nimport 'moment/locale/ko';\nimport Moment from 'react-moment';\nimport moment from 'moment';\nimport { Button, Segment } from 'semantic-ui-react'\n\nfunction MenuPage({location,history }) { \n  \n    const [id,setId] = useState(window.localStorage.getItem(\"id\"))\n    const [nickname,setNickname] = useState(window.localStorage.getItem(\"id\"))\n    const [job,setJob] = useState(window.localStorage.getItem(\"id\"))\n    const [work,setWork] = useState([]);\n    const [worktime,setWorktime] = useState([]);\n    const [totalworktime,settotalWorktime] = useState();\n    const [value,setValue] = useState(0);\n    const [staff,setStaff] = useState();\n    const [register,setRegister] = useState();\n    let stafflet = [];\n    //시간불러옴\n\n    const [status,setStatus] = useState(\"퇴근\");\n    const [seconds, setSeconds] = useState(Date.now()); //시간 확인할려고 만들었음\n\n    // useInterval\n    UseInterval(() => {\n      setSeconds(Date.now());\n    }, 1000);\n    const nowTime = Date.now();\n    // interval 30초\n    //return <Moment interval = { 30000 }>{nowTime}</Moment>;\n    // interval disable\n\n    //데이터 가져오기\n  useEffect(()=>{\n  },[totalworktime])\n\n  \n\n  useEffect(async()=>{\n    getstaff();\n    await Axios.post(\"https://qkrtmfqls.gabia.io/api/tokencheck\", {\n      token : window.localStorage.getItem(\"token\")\n   })\n   .then((response)=>{\n     setJob(response.data.job);\n     setNickname(response.data.nickname);\n     //console.log('아이디 : ',id);\n   })\n   .catch((error)=> {\n    if(error.response.data.code == 419) //error 떳을때 데이터 가져오기\n    {\n      alert('로그인 세션이 만료되었습니다.');\n      history.push({\n        pathname: \"/sign\",\n      })\n    }\n   });\n        getworktime();\n        await Axios.post('https://qkrtmfqls.gabia.io/api/gettime', {\n            title: id,\n            date: seconds\n        }).then((response)=>{\n            if(response.data ==id) //퇴근 안했음\n            {\n              //console.log(\"돌아온값 : \",response.data);\n                setStatus(\"출근\");\n            }\n            else{\n                setStatus(\"퇴근\");\n            }\n        });\n  },[]);\n\n\n\n\n\n  //출근버튼 누르면 실행하는 함수\n\n  const starttime = () => {\n    gettime();//출근버튼 \n  }\n\n  const gettime = async function(){\n    await Axios.post('https://qkrtmfqls.gabia.io/api/gettime', {\n        title: id,\n        date: seconds,\n        nickname : nickname\n    }).then((response)=>{\n        if(response.data ==id) //퇴근 안했음\n        {\n            alert(\"이미 출근하셨습니다.\");\n            setStatus(\"출근\");\n        }\n        else{\n            starttime2(); //출근 안했으니 insert구문으로 db에 데이터 넣어줌\n            setStatus(\"출근\");\n        }\n    });\n  }\n\n  useEffect(()=>{\n    //console.log(\"status 값\",status);\n  },[status])\n\n\n  const starttime2 =async function(){\n    try{\n    await Axios.post('https://qkrtmfqls.gabia.io/api/insert2', {\n      title: id,\n      date: seconds,\n      nickname : nickname,\n      job : job\n    }).then((response)=>{\n      alert('출근 성공');\n    })\n}catch(e){\n    console.log(\"출근에러 : \",e);\n}\n  }\n  \n\n\n\n\n\n\n\n//총합시간계산\n  const getworktime = async function(){\n    await Axios.post('https://qkrtmfqls.gabia.io/api/getworktime', {\n        title: id,\n      }).then((response)=>{\n          settotalWorktime(response.data[0].sumprice);\n      })\n}\n\n\n//퇴근\n  const endtime = () => {\n    try{\n        getwork();\n    }catch(e){\n    }\n\n};\n\n//work에 시작시간 테이블 가져오기\nconst getwork = async function(){\n    const response = await Axios.post('https://qkrtmfqls.gabia.io/api/getwork', {\n        title: id\n      });\n      if(response.data ==id) //퇴근 안했음\n      {\n          alert(\"출근하지 않으셨습니다.\");\n      }\n      else{\n        var time = response.data[0].start;\n        setValue(1);\n        UpdateWork(time);\n        //checktime();\n      }\n\n  }\n  const UpdateWork= (time)=>{\n    setWork((state,props)=>{\n        return {work : time}\n    });\n  }\n  //work값이 변경됬을때 실행\n  useEffect(()=>{\n    checktime();//work값이 변경되었을때 실행함\n  },[work])\n\n  //worktime 값이 변했을때\n  useEffect(()=>{\n      if(value==1){\n    endtime2();\n      }\n  },[worktime])\n\n  //시간계산\n  const checktime = () =>{\n    try{\n  var time1 = moment(work.work,'MMMM Do YYYY, h:mm:ss a');\n  var time2 = moment(seconds); \n  var duration = moment.duration(time2.diff(time1)).asMinutes();\n  setWorktime(duration);\n  //var time3 = moment.duration(time1.diff(time2)).asMinutes();\n    //seconds -> 현재시간\n    }catch(e){\n        console.log(e);\n    }\n\n}\n\n    const endtime2 = async function(){\n        await Axios.post('https://qkrtmfqls.gabia.io/api/update', {\n            title: id,\n            date: moment(seconds).format('yyyy-MM-dd HH:mm:ss'),\n            worktime : worktime\n          }).then(()=>{\n            setValue(0);\n            getworktime();\n            alert('퇴근했습니다.');\n            setStatus(\"퇴근\");\n          })\n    }\n\n    const getstaff = async ()=>{\n      Axios.post('https://qkrtmfqls.gabia.io/api/getstaff', {//데이터 불러옴\n    }).then((response)=>{\n      stafflet = response.data;\n      setStaff(response.data);\n    });\n    }\n\n    const Pushstaff = ({workstaff}) =>{\n      let workstate = workstaff.work ==0? '출근':'퇴근';\n      return(\n     <tr className=\"table-active\">\n         <th scope=\"row\">{workstaff.id}</th>\n         <td>{workstaff.job}</td>\n         <td>{workstaff.nickname}</td>\n         <td>{workstaff.start}</td>\n         <td>{workstate}</td>\n     </tr>\n      )\n    }\n\n\n\n\n\n    const Testpuch =  () =>{\n      const rows = [];\n      if(staff !=null){\n       staff.forEach(\n            (staffrow) => {\n              rows.push(<Pushstaff workstaff = {staffrow} key = {staffrow.id}></Pushstaff>)\n       });\n      }\n    return(\n      <table className=\"table table-hover\"> \n      <thead>\n       <tr>\n        <th scope=\"col\">고유번호</th>\n        <th scope=\"col\">직업</th>\n        <th scope=\"col\">닉네임</th>\n        <th scope=\"col\">시작시간</th>\n        <th scope=\"col\">상태</th>\n        </tr>\n      </thead>\n         <tbody>\n           {rows}\n         </tbody>\n       </table>\n    )\n\n    }\n\n\n  return(\n <div className=\"d-grid gap-2\">\n    <h1>스태프 페이지 입니다.</h1>\n\n    <div className=\"alert alert-dismissible alert-warning\">\n  <button type=\"button\" className=\"btn-close\" data-bs-dismiss=\"alert\"></button>\n  <div className=\"stafflogin\">\n  <h2 className=\"alert-heading\">알림</h2>\n  <p className=\"mb-0\">{nickname} 님은 현재 <a href=\"#\" className=\"alert-link\">{status}</a> 상태입니다.</p>\n  <h2>고유번호 : {id}</h2>\n    <h2>직업 : {job}</h2>\n  </div>\n</div>\n    <h2>  \n    <Moment format=\"YYYY년 MM월 DD일 HH시 mm분 ss초\" interval = { 0 }>\n        {seconds}\n    </Moment>\n    <h1>근무시간 : {parseInt(Number(totalworktime)/60) } 시간 {parseInt(Number(totalworktime))%60 } 분</h1>\n    </h2>\n    <div className=\"staffbutton\" >\n    <button className=\"staffbutton2\"  onClick={starttime} type=\"button\">출근</button>\n    <button className=\"staffbutton2\"  onClick={endtime}  type=\"button\">퇴근</button>\n\n    </div>\n    <br></br>\n\n\n    <Testpuch/>\n    </div>\n  );\n  \n}\n\n\nfunction UseInterval(callback, delay) {\n    const savedCallback = useRef();\n\n    useEffect(() => {\n      // useEffect에 매개변수로 받은 콜백을 현재 Ref로 선언해준다.\n      savedCallback.current = callback;\n    });\n\n    useEffect(() => {\n      function tick() {\n        savedCallback.current();\n      }\n        // useEffect에 Ref의 current를 setInterval를 delay 시간동안 해준다.\n      let id = setInterval(tick, delay);\n      // 언마운트되기전 clearInterval을 해준다.\n      return () => clearInterval(id);\n    }, [delay]);\n  }\n\nexport default MenuPage;","// eslint-disalbe\n\nimport React,{useState,useRef} from'react';\nimport 'bootstrap/dist/css/bootstrap.css'\nimport Axios from'axios';\nimport { useEffect } from 'react';\nimport 'moment/locale/ko';\nimport Moment from 'react-moment';\nimport moment from 'moment';\nimport { Button, Segment } from 'semantic-ui-react'\n\nfunction MenuPage({location,history }) { \n  \n    const [id,setId] = useState(window.localStorage.getItem(\"id\"))\n    const [nickname,setNickname] = useState(window.localStorage.getItem(\"id\"))\n    const [job,setJob] = useState(window.localStorage.getItem(\"id\"))\n    const [work,setWork] = useState([]);\n    const [worktime,setWorktime] = useState([]);\n    const [totalworktime,settotalWorktime] = useState();\n    const [value,setValue] = useState(0);\n    const [staff,setStaff] = useState();\n    const [register,setRegister] = useState();\n    let stafflet = [];\n    //시간불러옴\n\n    const [status,setStatus] = useState(\"퇴근\");\n    const [seconds, setSeconds] = useState(Date.now()); //시간 확인할려고 만들었음\n\n    // useInterval\n    UseInterval(() => {\n      setSeconds(Date.now());\n    }, 1000);\n    const nowTime = Date.now();\n    // interval 30초\n    //return <Moment interval = { 30000 }>{nowTime}</Moment>;\n    // interval disable\n\n    //데이터 가져오기\n  useEffect(()=>{\n  },[totalworktime])\n\n  \n\n  useEffect(async()=>{\n    getstaff();\n    await Axios.post(\"https://qkrtmfqls.gabia.io/api/tokencheck\", {\n      token : window.localStorage.getItem(\"token\")\n   })\n   .then((response)=>{\n     setJob(response.data.job);\n     setNickname(response.data.nickname);\n   })\n   .catch((error)=> {\n    if(error.response.data.code == 419) //error 떳을때 데이터 가져오기\n    {\n      alert('로그인 세션이 만료되었습니다.');\n      history.push({\n        pathname: \"/sign\",\n      })\n    }\n   });\n        getworktime();\n        await Axios.post('https://qkrtmfqls.gabia.io/api/gettime', {\n            title: id,\n            date: seconds\n        }).then((response)=>{\n            if(response.data ==id) //퇴근 안했음\n            {\n                setStatus(\"출근\");\n            }\n            else{\n                setStatus(\"퇴근\");\n            }\n        });\n  },[]);\n\n\n\n\n\n  //출근버튼 누르면 실행하는 함수\n\n  const starttime = () => {\n    gettime();//출근버튼 \n  }\n\n  const gettime = async function(){\n    await Axios.post('https://qkrtmfqls.gabia.io/api/gettime', {\n        title: id,\n        date: seconds,\n        nickname : nickname\n    }).then((response)=>{\n        if(response.data ==id) //퇴근 안했음\n        {\n            alert(\"이미 출근하셨습니다.\");\n            setStatus(\"출근\");\n        }\n        else{\n            starttime2(); //출근 안했으니 insert구문으로 db에 데이터 넣어줌\n            setStatus(\"출근\");\n        }\n    });\n  }\n\n  useEffect(()=>{\n  },[status])\n\n\n  const starttime2 =async function(){\n    try{\n    await Axios.post('https://qkrtmfqls.gabia.io/api/insert2', {\n      title: id,\n      date: seconds,\n      nickname : nickname,\n      job : job\n    }).then((response)=>{\n      alert('출근 성공');\n    })\n}catch(e){\n    console.log(\"출근에러 : \",e);\n}\n  }\n  \n\n\n\n\n\n\n\n//총합시간계산\n  const getworktime = async function(){\n    await Axios.post('https://qkrtmfqls.gabia.io/api/getworktime', {\n        title: id,\n      }).then((response)=>{\n          settotalWorktime(response.data[0].sumprice);\n          console.log(response.data[0].sumprice);\n      })\n}\n\n\n//퇴근\n  const endtime = () => {\n    try{\n        getwork();\n    }catch(e){\n        console.log(e);\n    }\n\n};\n\n//work에 시작시간 테이블 가져오기\nconst getwork = async function(){\n    const response = await Axios.post('https://qkrtmfqls.gabia.io/api/getwork', {\n        title: id\n      });\n      if(response.data ==id) //퇴근 안했음\n      {\n          alert(\"출근하지 않으셨습니다.\");\n      }\n      else{\n        var time = response.data[0].start;\n        setValue(1);\n        UpdateWork(time);\n        //checktime();\n      }\n\n  }\n  const UpdateWork= (time)=>{\n    setWork((state,props)=>{\n        return {work : time}\n    });\n  }\n  //work값이 변경됬을때 실행\n  useEffect(()=>{\n    console.log(\"바뀐뒤 work값 : \",work);\n    checktime();//work값이 변경되었을때 실행함\n  },[work])\n\n  //worktime 값이 변했을때\n  useEffect(()=>{\n      if(value==1){\n    endtime2();\n      }\n  },[worktime])\n\n  //시간계산\n  const checktime = () =>{\n    try{\n  var time1 = moment(work.work,'MMMM Do YYYY, h:mm:ss a');\n  var time2 = moment(seconds); \n  console.log(time1.format('yyyy-MM-dd HH:mm:ss'));\n  console.log(time2.format('MMMM Do YYYY, h:mm:ss a'));\n  var duration = moment.duration(time2.diff(time1)).asMinutes();\n  console.log(duration);\n  setWorktime(duration);\n  //var time3 = moment.duration(time1.diff(time2)).asMinutes();\n  console.log(time2);\n    //seconds -> 현재시간\n    }catch(e){\n        console.log(e);\n    }\n\n}\n\n    const endtime2 = async function(){\n        await Axios.post('https://qkrtmfqls.gabia.io/api/update', {\n            title: id,\n            date: moment(seconds).format('yyyy-MM-dd HH:mm:ss'),\n            worktime : worktime\n          }).then(()=>{\n            console.log(\"일한시간\",worktime);\n            setValue(0);\n            getworktime();\n            alert('퇴근했습니다.');\n            setStatus(\"퇴근\");\n          })\n    }\n\n    const getstaff = async ()=>{\n      Axios.post('https://qkrtmfqls.gabia.io/api/getstaff', {//데이터 불러옴\n    }).then((response)=>{\n      stafflet = response.data;\n      setStaff(response.data);\n      console.log('staff값 : ',staff);\n    });\n    }\n\n    const Pushstaff = ({workstaff}) =>{\n      let workstate = workstaff.work ==0? '출근':'퇴근';\n      return(\n     <tr className=\"table-active\">\n         <th scope=\"row\">{workstaff.id}</th>\n         <td>{workstaff.job}</td>\n         <td>{workstaff.nickname}</td>\n         <td>{workstaff.start}</td>\n         <td>{workstate}</td>\n     </tr>\n      )\n    }\n\n\n\n\n\n    const Testpuch =  () =>{\n      const rows = [];\n      if(staff !=null){\n       staff.forEach(\n            (staffrow) => {\n              rows.push(<Pushstaff workstaff = {staffrow} key = {staffrow.id}></Pushstaff>)\n       });\n      }\n    return(\n      <table className=\"table table-hover\"> \n      <thead>\n       <tr>\n        <th scope=\"col\">고유번호</th>\n        <th scope=\"col\">직업</th>\n        <th scope=\"col\">닉네임</th>\n        <th scope=\"col\">시작시간</th>\n        <th scope=\"col\">상태</th>\n        </tr>\n      </thead>\n         <tbody>\n           {rows}\n         </tbody>\n       </table>\n    )\n\n    }\n\n\n  return(\n <div className=\"d-grid gap-2\">\n    <h1>경찰 페이지 입니다.</h1>\n\n    <div className=\"alert alert-dismissible alert-warning\">\n  <button type=\"button\" className=\"btn-close\" data-bs-dismiss=\"alert\"></button>\n  <div className=\"stafflogin\">\n  <h2 className=\"alert-heading\">알림</h2>\n  <p className=\"mb-0\">{nickname} 님은 현재 <a href=\"#\" className=\"alert-link\">{status}</a> 상태입니다.</p>\n  <h2>고유번호 : {id}</h2>\n    <h2>직업 : {job}</h2>\n  </div>\n</div>\n    <h2>  \n    <Moment format=\"YYYY년 MM월 DD일 HH시 mm분 ss초\" interval = { 0 }>\n        {seconds}\n    </Moment>\n    <h1>근무시간 : {parseInt(Number(totalworktime)/60) } 시간 {parseInt(Number(totalworktime))%60 } 분</h1>\n    </h2>\n    <div className=\"staffbutton\" >\n    <button className=\"staffbutton2\"  onClick={starttime} type=\"button\">출근</button>\n    <button className=\"staffbutton2\"  onClick={endtime}  type=\"button\">퇴근</button>\n\n    </div>\n    <br></br>\n\n\n    <Testpuch/>\n    </div>\n  );\n  \n}\n\n\nfunction UseInterval(callback, delay) {\n    const savedCallback = useRef();\n\n    useEffect(() => {\n      // useEffect에 매개변수로 받은 콜백을 현재 Ref로 선언해준다.\n      savedCallback.current = callback;\n    });\n\n    useEffect(() => {\n      function tick() {\n        savedCallback.current();\n      }\n        // useEffect에 Ref의 current를 setInterval를 delay 시간동안 해준다.\n      let id = setInterval(tick, delay);\n      // 언마운트되기전 clearInterval을 해준다.\n      return () => clearInterval(id);\n    }, [delay]);\n  }\n\nexport default MenuPage;","// eslint-disalbe\n\nimport React,{useState,useRef} from'react';\nimport 'bootstrap/dist/css/bootstrap.css'\nimport Axios from'axios';\nimport { useEffect } from 'react';\nimport 'moment/locale/ko';\nimport Moment from 'react-moment';\nimport moment from 'moment';\nimport { Button, Segment } from 'semantic-ui-react'\n\nfunction Admin({location,history }) { \n  \n    const [id,setId] = useState(window.localStorage.getItem(\"id\"))\n    const [nickname,setNickname] = useState(window.localStorage.getItem(\"id\"))\n    const [job,setJob] = useState(window.localStorage.getItem(\"id\"))\n    const [work,setWork] = useState([]);\n    const [worktime,setWorktime] = useState([]);\n    const [totalworktime,settotalWorktime] = useState();\n    const [value,setValue] = useState(0);\n    const [register,setRegister] = useState();\n    const [userdata,setUser] =useState();\n    var [showpost,setshowpost] = useState(0);\n    //시간불러옴\n\n    const [status,setStatus] = useState(\"퇴근\");\n    const [seconds, setSeconds] = useState(Date.now()); //시간 확인할려고 만들었음\n\n    // useInterval\n    UseInterval(() => {\n      setSeconds(Date.now());\n    }, 1000);\n    const nowTime = Date.now();\n    // interval 30초\n    //return <Moment interval = { 30000 }>{nowTime}</Moment>;\n    // interval disable\n\n    //데이터 가져오기\n  useEffect(()=>{\n  },[totalworktime])\n\n  \n\n  useEffect(async()=>{\n    getuser();\n    getregister();\n    await Axios.post(\"https://qkrtmfqls.gabia.io/api/tokencheck\", {\n      token : window.localStorage.getItem(\"token\")\n   })\n   .then((response)=>{\n     setJob(response.data.job);\n     setNickname(response.data.nickname);\n   })\n   .catch((error)=> {\n    if(error.response.data.code == 419) //error 떳을때 데이터 가져오기\n    {\n      alert('로그인 세션이 만료되었습니다.');\n      history.push({\n        pathname: \"/sign\",\n      })\n    }\n   });\n        getworktime();\n        await Axios.post('https://qkrtmfqls.gabia.io/api/gettime', {\n            title: id,\n            date: seconds\n        }).then((response)=>{\n            if(response.data ==id) //퇴근 안했음\n            {\n                setStatus(\"출근\");\n            }\n            else{\n                setStatus(\"퇴근\");\n            }\n        });\n  },[]);\n\n  \n\n\n\n\n\n\n\n//총합시간계산\n  const getworktime = async function(){\n    await Axios.post('https://qkrtmfqls.gabia.io/api/getworktime', {\n        title: id,\n      }).then((response)=>{\n          settotalWorktime(response.data[0].sumprice);\n      })\n}\n\n\n//퇴근\n  const endtime = () => {\n    try{\n        getwork();\n    }catch(e){\n        console.log(e);\n    }\n\n};\n\n//work에 시작시간 테이블 가져오기\nconst getwork = async function(){\n    const response = await Axios.post('https://qkrtmfqls.gabia.io/api/getwork', {\n        title: id\n      });\n      if(response.data ==id) //퇴근 안했음\n      {\n          alert(\"출근하지 않으셨습니다.\");\n      }\n      else{\n        var time = response.data[0].start;\n        setValue(1);\n        UpdateWork(time);\n        //checktime();\n      }\n\n  }\n  const UpdateWork= (time)=>{\n    setWork((state,props)=>{\n        return {work : time}\n    });\n  }\n  //work값이 변경됬을때 실행\n  useEffect(()=>{\n    checktime();//work값이 변경되었을때 실행함\n  },[work])\n\n\n  //시간계산\n  const checktime = () =>{\n    try{\n  var time1 = moment(work.work,'MMMM Do YYYY, h:mm:ss a');\n  var time2 = moment(seconds); \n  var duration = moment.duration(time2.diff(time1)).asMinutes();\n  setWorktime(duration);\n    }catch(e){\n        console.log(e);\n    }\n}\n\n\nconst getuser = async (text) =>{\n  await Axios.post('https://qkrtmfqls.gabia.io/api/getdata', {//유저 전체 데이터 불러옴\n}).then((response)=>{\n  setUser(response.data);\n});\n}\n\n    const staffend = async (text) =>{\n      await Axios.post('https://qkrtmfqls.gabia.io/api/setregister', {//승인 버튼\n      id : text\n    }).then((response)=>{\n      getregister();\n      alert('승인완료 ');\n    });\n    }\n\n    const getregister = async ()=>{\n      await Axios.post('https://qkrtmfqls.gabia.io/api/getregister', {//승인받아야하는 회원\n    }).then((response)=>{\n      setRegister(response.data);\n    });\n    }\n\n    const Testpuch =  () =>{\n      const rows = [];\n\n      if(showpost == 1){ // 전체유저\n        if(userdata !=null){\n        userdata.forEach(\n            (staffrow) => {\n              //rows.push(<Pushstaff register = {staffrow} key = {staffrow.id}></Pushstaff>)\n              rows.push(<Pushuser user = {staffrow} key = {staffrow.id}></Pushuser>)\n       });\n        }\n\n    return(\n      <table className=\"table table-hover\"> \n      <thead>\n       <tr>\n        <th scope=\"col\">고유번호</th>\n        <th scope=\"col\">직업</th>\n        <th scope=\"col\">닉네임</th>\n        <th scope=\"col\">출근상태</th>\n        <th scope=\"col\">근무시간</th>\n        </tr>\n      </thead>\n         <tbody>\n           {rows}\n         </tbody>\n       </table>\n    )\n      }\n      else{ //승인해야할 유저들\n              if(register !=null){\n        register.forEach(\n            (staffrow) => {\n              rows.push(<Pushstaff register = {staffrow} key = {staffrow.id}></Pushstaff>)\n       });\n      }\n        return(\n          <table className=\"table table-hover\"> \n          <thead>\n           <tr>\n            <th scope=\"col\">고유번호</th>\n            <th scope=\"col\">직업</th>\n            <th scope=\"col\">닉네임</th>\n            <th scope=\"col\">승인상태</th>\n            <th scope=\"col\">승인</th>\n            </tr>\n          </thead>\n             <tbody>\n               {rows}\n             </tbody>\n           </table>\n        );\n      }\n\n    }\n\n    //승인 버튼\n    const Pushstaff = ({register}) =>{\n      let check = register.register ==0? '미승인':'승인';\n      return(\n     <tr className=\"table-active\">\n         <th scope=\"row\">{register.id}</th>\n         <td>{register.job}</td>\n         <td>{register.nickname}</td>\n         <td>{check}</td>\n         <td><button onClick={() => staffend(register.id)} type=\"button\"  className=\"buttonstaff\">승인</button></td>\n     </tr>\n      )\n    }\n\n    //전체회원\n    const Pushuser = ({user}) =>{\n      \n      let check = user.work ==0? '출근':'퇴근';\n      return(\n     <tr className=\"table-active\">\n         <th scope=\"row\">{user.id}</th>\n         <td>{user.job}</td>\n         <td>{user.nickname}</td>\n         <td>{check}</td>\n         <td>{parseInt(Number(user.totaltime)/60) } 시간 {parseInt(Number(user.totaltime))%60 }분</td>\n     </tr>\n      )\n    }\n    const Pushregister = () => {\n      setshowpost(0);\n    }\n    const Pushusr = () =>{\n      setshowpost(1);\n    }\n\n\n  return(\n <div className=\"d-grid gap-2\">\n    <h1> 관리자 페이지 입니다.</h1>\n    <h2>\n    <Moment format=\"YYYY년 MM월 DD일 HH시 mm분 ss초\" interval = { 0 }>\n        {seconds}\n    </Moment>\n    </h2>\n    <div className=\"alert alert-dismissible alert-warning\">\n  <button type=\"button\" className=\"btn-close\" data-bs-dismiss=\"alert\"></button>\n  <div className=\"stafflogin\">\n  <h2>고유번호 : {id}</h2>\n    <h2>직업 : {job}</h2>\n  </div>\n</div>\n\n    <div className=\"staffbutton\" >\n    <button className=\"staffbutton2\"  onClick={Pushregister}  type=\"button\">승인</button>\n    <button className=\"staffbutton2\"  onClick={Pushusr}  type=\"button\">전체회원</button>\n    </div>\n    <br></br>\n    <Testpuch/>\n\n    </div>\n  );\n  \n}\n\n\nfunction UseInterval(callback, delay) {\n    const savedCallback = useRef();\n\n    useEffect(() => {\n      // useEffect에 매개변수로 받은 콜백을 현재 Ref로 선언해준다.\n      savedCallback.current = callback;\n    });\n\n    useEffect(() => {\n      function tick() {\n        savedCallback.current();\n      }\n        // useEffect에 Ref의 current를 setInterval를 delay 시간동안 해준다.\n      let id = setInterval(tick, delay);\n      // 언마운트되기전 clearInterval을 해준다.\n      return () => clearInterval(id);\n    }, [delay]);\n  }\n\nexport default Admin;","import React,{useState,useRef} from'react';\nimport { HashRouter as Router, Route, Switch } from 'react-router-dom';\nimport SignPage from './page/Sign'; \nimport MainPage from './page/Main';\nimport Menupage from './page/Menupage';\nimport Staff from './page/Staff';\nimport Police from './page/Police';\nimport Admin from './page/Admin';\nimport styled from \"styled-components\";\n\n\n\nfunction App({props, location, history }) { \n  const [token,setToken] = useState(window.localStorage.getItem(\"token\")); //토큰값 불러오기\n\n\n\n  return ( \n    <> \n      <Router> \n        <Switch> \n        <> \n        <Route exact path='/' component={SignPage} /> \n          <Route path='/sign' component={SignPage} /> \n          <Route path='/main' component={MainPage} /> \n          <Route path='/menupage' component={Menupage} /> \n          <Route path='/staff' component={Staff} /> \n          <Route path='/police' component={Police} /> \n          <Route path='/Admin' component={Admin} /> \n          </> \n        </Switch> \n      </Router> \n    </> \n          ); }\nexport default React.memo(App);\n\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}